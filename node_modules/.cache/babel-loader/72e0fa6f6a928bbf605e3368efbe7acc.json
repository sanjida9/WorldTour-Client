{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { getAuth, signInWithPopup, GoogleAuthProvider, GithubAuthProvider, onAuthStateChanged, signOut, signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile, sendEmailVerification, sendPasswordResetEmail } from \"firebase/auth\";\nimport initializeAuthentication from \"../Firebase/firebase.init\"; //initialize firebase\n\ninitializeAuthentication(); //provider\n\nconst googleProvider = new GoogleAuthProvider();\nconst githubProvider = new GithubAuthProvider();\nconst auth = getAuth();\n\nconst useFirebase = () => {\n  _s();\n\n  const [user, setUser] = useState({});\n  const [error, setError] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [photo, setPhoto] = useState(\"\");\n  const [loading, setLoading] = useState(true); // console.log(user);\n  // clear error\n\n  useEffect(() => {\n    setTimeout(() => {\n      setError(\"\");\n    }, 3000);\n  }, [error]); //google sign in button\n\n  const handleSignInWithGoogle = () => {\n    setLoading(true);\n    return signInWithPopup(auth, googleProvider);\n  }; //github sign in button\n\n\n  const handleSignInWithGithub = () => {\n    setLoading(true);\n    return signInWithPopup(auth, githubProvider);\n  }; //Email sign in\n\n\n  const signInWithEmail = () => {\n    return signInWithEmailAndPassword(auth, email, password);\n  }; //set name and profile image url\n\n\n  const setNameImage = () => {\n    updateProfile(auth.currentUser, {\n      displayName: name,\n      photoURL: photo\n    }).then(() => {}).catch(error => {\n      setError(error.message);\n    });\n  }; //verify email\n\n\n  const emailVerify = () => {\n    sendEmailVerification(auth.currentUser).then(result => {\n      alert(`An Verification mail has been sent to ${email}`);\n    });\n  }; //Get the currently signed in user and observe user state change\n\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, signedInUser => {\n      if (signedInUser) {\n        setUser(signedInUser);\n      } else {\n        setUser({});\n      }\n\n      setLoading(false);\n    });\n    return () => unsubscribe;\n  }, []); //signUp means create new user with email and pass\n\n  const signUp = e => {\n    e.preventDefault();\n    createUserWithEmailAndPassword(auth, email, password).then(result => {\n      setNameImage();\n      emailVerify();\n      alert(\"User has been created\");\n    }).catch(error => {\n      setError(error.message);\n    });\n  }; //sign out\n\n\n  const logOut = () => {\n    // setIsLoading(true);\n    signOut(auth).then(result => {\n      setUser({});\n    }).finally(() => setLoading(false)); // .catch((error) => {\n    //     setError(error.message);\n    //   });\n  }; //reset password\n\n\n  const resetPassword = e => {\n    e.preventDefault();\n    sendPasswordResetEmail(auth, email).then(() => {\n      alert(\"password reset email has been sent\");\n    }).catch(error => {\n      setError(error.message);\n    });\n  }; //get email\n\n\n  const getEmail = e => {\n    var _e$target;\n\n    setEmail(e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value);\n  }; //get password\n\n\n  const getPassword = e => {\n    var _e$target2;\n\n    setPassword(e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.value);\n  }; //get Name\n\n\n  const getName = e => {\n    var _e$target3;\n\n    setName(e === null || e === void 0 ? void 0 : (_e$target3 = e.target) === null || _e$target3 === void 0 ? void 0 : _e$target3.value);\n  }; //get photoURL\n\n\n  const getPhoto = e => {\n    var _e$target4;\n\n    setPhoto(e === null || e === void 0 ? void 0 : (_e$target4 = e.target) === null || _e$target4 === void 0 ? void 0 : _e$target4.value);\n  };\n\n  return {\n    getEmail,\n    getPassword,\n    signInWithEmail,\n    handleSignInWithGoogle,\n    handleSignInWithGithub,\n    logOut,\n    signUp,\n    getName,\n    getPhoto,\n    resetPassword,\n    setNameImage,\n    setLoading,\n    setError,\n    setUser,\n    user,\n    error,\n    loading\n  };\n};\n\n_s(useFirebase, \"WxLbNbunMOHrWG1LdGJ/75c/SfI=\");\n\nexport default useFirebase;","map":{"version":3,"sources":["C:/WEB DEVELOPMENT/assi-11-client-side/src/hooks/useFirebase.js"],"names":["useState","useEffect","getAuth","signInWithPopup","GoogleAuthProvider","GithubAuthProvider","onAuthStateChanged","signOut","signInWithEmailAndPassword","createUserWithEmailAndPassword","updateProfile","sendEmailVerification","sendPasswordResetEmail","initializeAuthentication","googleProvider","githubProvider","auth","useFirebase","user","setUser","error","setError","email","setEmail","password","setPassword","name","setName","photo","setPhoto","loading","setLoading","setTimeout","handleSignInWithGoogle","handleSignInWithGithub","signInWithEmail","setNameImage","currentUser","displayName","photoURL","then","catch","message","emailVerify","result","alert","unsubscribe","signedInUser","signUp","e","preventDefault","logOut","finally","resetPassword","getEmail","target","value","getPassword","getName","getPhoto"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {\r\n  getAuth,\r\n  signInWithPopup,\r\n  GoogleAuthProvider,\r\n  GithubAuthProvider,\r\n  onAuthStateChanged,\r\n  signOut,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  updateProfile,\r\n  sendEmailVerification,\r\n  sendPasswordResetEmail,\r\n} from \"firebase/auth\";\r\n\r\nimport initializeAuthentication from \"../Firebase/firebase.init\";\r\n\r\n//initialize firebase\r\n\r\ninitializeAuthentication();\r\n\r\n//provider\r\n\r\nconst googleProvider = new GoogleAuthProvider();\r\nconst githubProvider = new GithubAuthProvider();\r\n\r\nconst auth = getAuth();\r\n\r\nconst useFirebase = () => {\r\n  const [user, setUser] = useState({});\r\n  const [error, setError] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [photo, setPhoto] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // console.log(user);\r\n\r\n  // clear error\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setError(\"\");\r\n    }, 3000);\r\n  }, [error]);\r\n\r\n  //google sign in button\r\n\r\n  const handleSignInWithGoogle = () => {\r\n    setLoading(true);\r\n    return signInWithPopup(auth, googleProvider);\r\n  };\r\n\r\n  //github sign in button\r\n\r\n  const handleSignInWithGithub = () => {\r\n    setLoading(true);\r\n    return signInWithPopup(auth, githubProvider);\r\n  };\r\n\r\n  //Email sign in\r\n\r\n  const signInWithEmail = () => {\r\n    return signInWithEmailAndPassword(auth, email, password);\r\n  };\r\n  //set name and profile image url\r\n  const setNameImage = () => {\r\n    updateProfile(auth.currentUser, {\r\n      displayName: name,\r\n      photoURL: photo,\r\n    })\r\n      .then(() => {})\r\n      .catch((error) => {\r\n        setError(error.message);\r\n      });\r\n  };\r\n\r\n  //verify email\r\n\r\n  const emailVerify = () => {\r\n    sendEmailVerification(auth.currentUser).then((result) => {\r\n      alert(`An Verification mail has been sent to ${email}`);\r\n    });\r\n  };\r\n\r\n  //Get the currently signed in user and observe user state change\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (signedInUser) => {\r\n      if (signedInUser) {\r\n        setUser(signedInUser);\r\n      } else {\r\n        setUser({});\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe;\r\n  }, []);\r\n\r\n  //signUp means create new user with email and pass\r\n  const signUp = (e) => {\r\n    e.preventDefault();\r\n\r\n    createUserWithEmailAndPassword(auth, email, password)\r\n      .then((result) => {\r\n        setNameImage();\r\n        emailVerify();\r\n        alert(\"User has been created\");\r\n      })\r\n      .catch((error) => {\r\n        setError(error.message);\r\n      });\r\n  };\r\n\r\n  //sign out\r\n\r\n  const logOut = () => {\r\n    // setIsLoading(true);\r\n    signOut(auth)\r\n      .then((result) => {\r\n        setUser({});\r\n      })\r\n\r\n      .finally(() => setLoading(false));\r\n    // .catch((error) => {\r\n    //     setError(error.message);\r\n    //   });\r\n  };\r\n\r\n  //reset password\r\n\r\n  const resetPassword = (e) => {\r\n    e.preventDefault();\r\n    sendPasswordResetEmail(auth, email)\r\n      .then(() => {\r\n        alert(\"password reset email has been sent\");\r\n      })\r\n      .catch((error) => {\r\n        setError(error.message);\r\n      });\r\n  };\r\n\r\n  //get email\r\n\r\n  const getEmail = (e) => {\r\n    setEmail(e?.target?.value);\r\n  };\r\n\r\n  //get password\r\n\r\n  const getPassword = (e) => {\r\n    setPassword(e?.target?.value);\r\n  };\r\n\r\n  //get Name\r\n\r\n  const getName = (e) => {\r\n    setName(e?.target?.value);\r\n  };\r\n\r\n  //get photoURL\r\n  const getPhoto = (e) => {\r\n    setPhoto(e?.target?.value);\r\n  };\r\n\r\n  return {\r\n    getEmail,\r\n    getPassword,\r\n    signInWithEmail,\r\n    handleSignInWithGoogle,\r\n    handleSignInWithGithub,\r\n    logOut,\r\n    signUp,\r\n    getName,\r\n    getPhoto,\r\n    resetPassword,\r\n    setNameImage,\r\n    setLoading,\r\n    setError,\r\n    setUser,\r\n    user,\r\n    error,\r\n    loading,\r\n  };\r\n};\r\nexport default useFirebase;\r\n"]},"metadata":{},"sourceType":"module"}