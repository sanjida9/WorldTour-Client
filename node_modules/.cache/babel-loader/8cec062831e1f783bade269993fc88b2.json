{"ast":null,"code":"var _jsxFileName = \"C:\\\\WEB DEVELOPMENT\\\\assi-11-client-side\\\\src\\\\components\\\\PlaceOrder\\\\PlaceOrder.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport axios from \"axios\";\nimport { NavLink } from \"react-router-dom\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport DatePicker from \"react-datepicker\";\nimport useAuth from \"../../hooks/useAuth\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PlaceOrder = () => {\n  _s();\n\n  const {\n    allContext\n  } = useAuth();\n  const {\n    register,\n    handleSubmit,\n    reset,\n    control,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [singleSpot, setSingleSpot] = useState({});\n  const {\n    id\n  } = useParams();\n  const [quantity, setQuantity] = useState(1);\n  const {\n    user\n  } = allContext;\n  useEffect(() => {\n    axios.get(`https://bloodcurdling-corpse-06487.herokuapp.com/spot/${id}`).then(res => setSingleSpot(res.data));\n  }, []);\n\n  const onSubmit = data => {\n    const cost = singleSpot.price * quantity;\n    data.cost = cost;\n    data.bookedSpot = singleSpot;\n    data.status = \"Pending\";\n    data.userEmail = user.email;\n    axios.post(\"https://bloodcurdling-corpse-06487.herokuapp.com/placeOrder\", data).then(res => {\n      alert(\"Order has been placed!\");\n      reset();\n    });\n  };\n\n  const handleQuantity = e => {\n    setQuantity(e.target.value);\n  };\n\n  console.log(user);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container row my-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card col-md-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: singleSpot.img,\n        className: \"card-img-top\",\n        alt: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: singleSpot.planName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: singleSpot.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: `/spot/${singleSpot._id}`,\n          children: \"Book Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"col-md-6 mx-auto\",\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        ...register(\"fullName\", {\n          required: true\n        }),\n        placeholder: \"Full Name\",\n        defaultValue: user.displayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), errors.fullName && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"This field is required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        ...register(\"email\", {\n          required: true\n        }),\n        placeholder: \"Email\",\n        defaultValue: user.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"This field is required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        ...register(\"address\", {\n          required: true\n        }),\n        placeholder: \"Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), errors.address && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"This field is required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        defaultValue: \"1\",\n        min: \"1\",\n        onChangeCapture: handleQuantity,\n        type: \"number\",\n        className: \"form-control\",\n        ...register(\"quantity\", {\n          required: true\n        }),\n        placeholder: \"Quantity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), errors.quantity && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"This field is required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controller, {\n        control: control,\n        name: \"startDate\",\n        rules: {\n          required: true\n        },\n        render: ({\n          field\n        }) => /*#__PURE__*/_jsxDEV(DatePicker, {\n          className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n          placeholderText: \"Select date (MM/DD/YYYY)\",\n          onChange: date => field.onChange(date),\n          selected: field.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Place Your Order\",\n        className: \"btn btn-success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PlaceOrder, \"dWdJsWG7vYnsHkpJsBJnjONh9hI=\", false, function () {\n  return [useAuth, useForm, useParams];\n});\n\n_c = PlaceOrder;\nexport default PlaceOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlaceOrder\");","map":{"version":3,"sources":["C:/WEB DEVELOPMENT/assi-11-client-side/src/components/PlaceOrder/PlaceOrder.js"],"names":["React","useEffect","useState","useParams","axios","NavLink","Controller","useForm","DatePicker","useAuth","PlaceOrder","allContext","register","handleSubmit","reset","control","formState","errors","singleSpot","setSingleSpot","id","quantity","setQuantity","user","get","then","res","data","onSubmit","cost","price","bookedSpot","status","userEmail","email","post","alert","handleQuantity","e","target","value","console","log","img","planName","description","_id","required","displayName","fullName","address","field","date","onChange"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst PlaceOrder = () => {\r\n  const { allContext } = useAuth();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    control,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const [singleSpot, setSingleSpot] = useState({});\r\n  const { id } = useParams();\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const { user } = allContext;\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://bloodcurdling-corpse-06487.herokuapp.com/spot/${id}`)\r\n      .then((res) => setSingleSpot(res.data));\r\n  }, []);\r\n\r\n  const onSubmit = (data) => {\r\n    const cost = singleSpot.price * quantity;\r\n    data.cost = cost;\r\n    data.bookedSpot = singleSpot;\r\n    data.status = \"Pending\";\r\n    data.userEmail = user.email;\r\n\r\n    axios\r\n      .post(\"https://bloodcurdling-corpse-06487.herokuapp.com/placeOrder\", data)\r\n      .then((res) => {\r\n        alert(\"Order has been placed!\");\r\n        reset();\r\n      });\r\n  };\r\n\r\n  const handleQuantity = (e) => {\r\n    setQuantity(e.target.value);\r\n  };\r\n\r\n  console.log(user);\r\n\r\n  return (\r\n    <div className=\"container row my-5\">\r\n      <div className=\"card col-md-6\">\r\n        <img src={singleSpot.img} className=\"card-img-top\" alt=\"...\" />\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">{singleSpot.planName}</h5>\r\n          <p className=\"card-text\">{singleSpot.description}</p>\r\n          <NavLink to={`/spot/${singleSpot._id}`}>Book Now</NavLink>\r\n        </div>\r\n      </div>\r\n      <form className=\"col-md-6 mx-auto\" onSubmit={handleSubmit(onSubmit)}>\r\n        <input\r\n          className=\"form-control\"\r\n          {...register(\"fullName\", { required: true })}\r\n          placeholder=\"Full Name\"\r\n          defaultValue={user.displayName}\r\n        />\r\n        {errors.fullName && <span>This field is required</span>}\r\n        <br />\r\n        <br />\r\n        <input\r\n          className=\"form-control\"\r\n          {...register(\"email\", { required: true })}\r\n          placeholder=\"Email\"\r\n          defaultValue={user.email}\r\n        />\r\n        {errors.email && <span>This field is required</span>}\r\n        <br />\r\n        <br />\r\n        <input\r\n          className=\"form-control\"\r\n          {...register(\"address\", { required: true })}\r\n          placeholder=\"Address\"\r\n        />\r\n        {errors.address && <span>This field is required</span>}\r\n        <br />\r\n        <br />\r\n        <input\r\n          defaultValue=\"1\"\r\n          min=\"1\"\r\n          onChangeCapture={handleQuantity}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          {...register(\"quantity\", { required: true })}\r\n          placeholder=\"Quantity\"\r\n        />\r\n        {errors.quantity && <span>This field is required</span>}\r\n        <br />\r\n        <br />\r\n\r\n        <Controller\r\n          control={control}\r\n          name=\"startDate\"\r\n          rules={{ required: true }}\r\n          render={({ field }) => (\r\n            <DatePicker\r\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n              placeholderText=\"Select date (MM/DD/YYYY)\"\r\n              onChange={(date) => field.onChange(date)}\r\n              selected={field.value}\r\n            />\r\n          )}\r\n        />\r\n\r\n        <br />\r\n        <br />\r\n        <input\r\n          type=\"submit\"\r\n          value=\"Place Your Order\"\r\n          className=\"btn btn-success\"\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaceOrder;\r\n"]},"metadata":{},"sourceType":"module"}